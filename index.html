
<head>
<style>
    #sortable-list {
      list-style-type: none;
      padding: 0;
      margin: 0;
    }

    #sortable-list li {
      margin-bottom: 10px;
    }

    #sortable-list li input {
      width: 200px;
    }

    #sortable-list li input:focus {
      outline: none;
      box-shadow: 0 0 5px #6c63ff;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      background-color: #ccccce;
      width: 100%;
      height: 100%;
    }
    .wrapper {
      display: flex;
      flex-direction: column;
      /* position: relative; */
      height: 100vh;
      justify-content: center;
    }
    .container {
      font-family: "Poppins", sans-serif;
      background-color: #aaaaaa;
      padding: 3em 2em;
      border-radius: 0.8em;
      display: flex;
      flex-direction: column;
      margin: 10px;
    }

    #sortable-list {
      position: relative;
      padding-inline-start: 0;
      list-style-type: none;
      background-color: #aaaaaa;
    }

    li {
      padding: 0.8em 0;
      border-radius: 0.2em;
      margin: 1em auto;
      border: 1px solid #000000;
      font-size: 2rem;
      text-align: center;
      background-color: #ffffff;
    }

    li:hover {
      cursor: move;
      background-color: #b1ffff;
      border-color: #8673f2;
      color: #8673f2;
    }

    #sortable-form {
      display: flex;
      flex-direction: column-reverse;
      transition-duration: 1000ms;
    }
    .sortable-ghost {
      background-color: #b1ffff;
    }

    #submit {
      margin-top: 2rem;
      padding: 1.2rem;
      background-color: #b1ffff;
      font-size: 2.5rem;
    }
  </style>
  </head>
<body class="wrapper">

<div class="container">
    <form id="sortable-form">
      <ul id="sortable-list"></ul>
      <input type="submit" value="Submit" id="submit">
    </form>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
  <script>
    // Assume the URL has query parameters like ?item=Item%201&item=Item%202&item=Item%203

    // Get the query parameters from the URL
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);

    // Get the values of the 'item' parameter
    const itemValues = urlParams.getAll('item');

    // Create the HTML list
    const ulElement = document.getElementById('sortable-list');

    // Loop through the item values and create list items
    itemValues.forEach(value => {
      const liElement = document.createElement('li');
      liElement.textContent = value;
      ulElement.appendChild(liElement);
    });

    window.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('sortable-form');
      const sortableList = document.getElementById('sortable-list');

      Sortable.create(sortableList);

form.addEventListener('submit', function(e) {
  e.preventDefault();

  const lis = sortableList.getElementsByTagName('li');
  const values = Array.from(lis).map(li => li.textContent);

  // Create the payload object with the values
  const payload = { values };

  // Send the payload to the webhook URL
  fetch('https://hook.us1.make.com/8cbqihl1ag1d4fl957asaf2khxt3ogtq', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify(payload)
  })
    .then(response => {
      if (response.ok) {
        console.log('Values sent successfully!');
      } else {
        console.error('Error sending values:', response.status);
      }
    })
    .catch(error => {
      console.error('Error sending values:', error);
    });
});
});
</script>
</body>

